{"remainingRequest":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/babel-loader/lib/index.js!/Users/jeanpang/Desktop/imdb-api-project/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/jeanpang/Desktop/imdb-api-project/store/index.js","dependencies":[{"path":"/Users/jeanpang/Desktop/imdb-api-project/store/index.js","mtime":1583882331652},{"path":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/cache-loader/dist/cjs.js","mtime":1583882311906},{"path":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/babel-loader/lib/index.js","mtime":1583882310455},{"path":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1583882308066}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgU3RvcmVVdGlsIGZyb20gJy4uL3V0aWxzJzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBtb3ZpZXM6IFN0b3JlVXRpbC5zdGF0ZSgpLAogICAgZ2VucmVzOiB7CiAgICAgIGRhdGE6IFtdLAogICAgICBvcHRpb25zOiBbXQogICAgfSwKICAgIHRvdGFsUmVzdWx0czogbnVsbCwKICAgIHRvdGFsUGFnZXM6IG51bGwKICB9LAogIG11dGF0aW9uczogewogICAgR0VUX01PVklFX0xJU1Q6IGZ1bmN0aW9uIEdFVF9NT1ZJRV9MSVNUKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLm1vdmllcyA9IFN0b3JlVXRpbC51cGRhdGVTdGF0ZShzdGF0ZS5tb3ZpZXMsIHBheWxvYWQpOwogICAgfSwKICAgIEdFVF9HRU5SRVM6IGZ1bmN0aW9uIEdFVF9HRU5SRVMoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuZ2VucmVzID0gcGF5bG9hZDsKICAgIH0sCiAgICBUT1RBTF9SRVNVTFRTOiBmdW5jdGlvbiBUT1RBTF9SRVNVTFRTKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLnRvdGFsUmVzdWx0cyA9IHBheWxvYWQ7CiAgICB9LAogICAgVE9UQUxfUEFHRVM6IGZ1bmN0aW9uIFRPVEFMX1BBR0VTKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLnRvdGFsUGFnZXMgPSBwYXlsb2FkOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgZ2V0R2VucmVzOiBmdW5jdGlvbiBnZXRHZW5yZXMoY29udGV4dCkgewogICAgICBjb250ZXh0LmNvbW1pdCgnR0VUX0dFTlJFUycpOwogICAgICBheGlvcy5nZXQoJ2h0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvZ2VucmUvbW92aWUvbGlzdD9hcGlfa2V5PTBiNjM0NGQwNTU0YzVjZDI4YzVhZDhhZWRiMGNkZWQ2Jmxhbmd1YWdlPWVuLVVTJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgdmFyIGdlbnJlcyA9IHt9OwogICAgICAgIGdlbnJlcy5kYXRhID0gZGF0YS5nZW5yZXM7CiAgICAgICAgZ2VucmVzLm9wdGlvbnMgPSBbXTsKICAgICAgICBkYXRhLmdlbnJlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBnZW5yZXMub3B0aW9ucy5wdXNoKGl0ZW0ubmFtZSk7CiAgICAgICAgfSk7CiAgICAgICAgY29udGV4dC5jb21taXQoJ0dFVF9HRU5SRVMnLCBnZW5yZXMpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRNb3ZpZXM6IGZ1bmN0aW9uIGdldE1vdmllcyhjb250ZXh0LCBvbkNoYW5nZSkgewogICAgICB2YXIgYmFzZSA9IFsnaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9kaXNjb3Zlci9tb3ZpZT9hcGlfa2V5PTBiNjM0NGQwNTU0YzVjZDI4YzVhZDhhZWRiMGNkZWQ2J107CiAgICAgIHZhciBwcmltYXJ5UmVsZWFzZVllYXIgPSAnJnByaW1hcnlfcmVsZWFzZV95ZWFyPScuY29uY2F0KG9uQ2hhbmdlLnllYXJWYWx1ZSk7CiAgICAgIHZhciBzb3J0QnkgPSAnJnNvcnRfYnk9Jy5jb25jYXQob25DaGFuZ2Uuc29ydEJ5VmFsdWUpOwogICAgICB2YXIgd2l0aEdlbnJlcyA9ICcmd2l0aF9nZW5yZXM9Jy5jb25jYXQob25DaGFuZ2UuZ2VucmVzVmFsdWUpOwogICAgICB2YXIgcGFnZSA9ICcmcGFnZT0nLmNvbmNhdChvbkNoYW5nZS5wYWdlKTsKCiAgICAgIGlmIChvbkNoYW5nZS55ZWFyVmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGJhc2UucHVzaChwcmltYXJ5UmVsZWFzZVllYXIpOwogICAgICB9CgogICAgICBpZiAob25DaGFuZ2Uuc29ydEJ5VmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGJhc2UucHVzaChzb3J0QnkpOwogICAgICB9CgogICAgICBpZiAob25DaGFuZ2UuZ2VucmVzVmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGJhc2UucHVzaCh3aXRoR2VucmVzKTsKICAgICAgfQoKICAgICAgaWYgKG9uQ2hhbmdlLnBhZ2UgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGJhc2UucHVzaChwYWdlKTsKICAgICAgfQoKICAgICAgdmFyIGFwaSA9IGJhc2Uuam9pbignJyk7CiAgICAgIGF4aW9zLmdldChhcGkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGNvbnRleHQuY29tbWl0KCdUT1RBTF9QQUdFUycsIGRhdGEudG90YWxfcGFnZXMpOwogICAgICAgIGNvbnRleHQuY29tbWl0KCdHRVRfTU9WSUVfTElTVCcsIGRhdGEucmVzdWx0cyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29udGV4dC5jb21taXQoJ0dFVF9NT1ZJRV9MSVNUJywgZSk7CiAgICAgIH0pOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/Users/jeanpang/Desktop/imdb-api-project/store/index.js"],"names":["Vue","Vuex","axios","StoreUtil","use","Store","state","movies","genres","data","options","totalResults","totalPages","mutations","GET_MOVIE_LIST","payload","updateState","GET_GENRES","TOTAL_RESULTS","TOTAL_PAGES","actions","getGenres","context","commit","get","then","response","map","item","push","name","getMovies","onChange","base","primaryReleaseYear","concat","yearValue","sortBy","sortByValue","withGenres","genresValue","page","undefined","api","join","total_pages","results","catch","e"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nimport StoreUtil from '../utils';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    movies: StoreUtil.state(),\n    genres: {\n      data: [],\n      options: [],\n    },\n    totalResults: null,\n    totalPages: null,\n  },\n  mutations: {\n    GET_MOVIE_LIST(state, payload) {\n      state.movies = StoreUtil.updateState(state.movies, payload);\n    },\n    GET_GENRES(state, payload) {\n      state.genres = payload;\n    },\n    TOTAL_RESULTS(state, payload) {\n      state.totalResults = payload;\n    },\n    TOTAL_PAGES(state, payload) {\n      state.totalPages = payload;\n    },\n  },\n  actions: {\n    getGenres(context) {\n      context.commit('GET_GENRES');\n\n      axios.get('https://api.themoviedb.org/3/genre/movie/list?api_key=0b6344d0554c5cd28c5ad8aedb0cded6&language=en-US')\n        .then(\n          (response) => {\n            const { data } = response;\n\n            const genres = {};\n            genres.data = data.genres;\n            genres.options = [];\n            data.genres.map((item) => genres.options.push(item.name));\n            context.commit('GET_GENRES', genres);\n          },\n        );\n    },\n    getMovies(context, onChange) {\n      const base = ['https://api.themoviedb.org/3/discover/movie?api_key=0b6344d0554c5cd28c5ad8aedb0cded6'];\n\n      const primaryReleaseYear = '&primary_release_year='.concat(onChange.yearValue);\n      const sortBy = '&sort_by='.concat(onChange.sortByValue);\n      const withGenres = '&with_genres='.concat(onChange.genresValue);\n      const page = '&page='.concat(onChange.page);\n\n      if (onChange.yearValue !== undefined) {\n        base.push(primaryReleaseYear);\n      }\n      if (onChange.sortByValue !== undefined) {\n        base.push(sortBy);\n      }\n      if (onChange.genresValue !== undefined) {\n        base.push(withGenres);\n      }\n      if (onChange.page !== undefined) {\n        base.push(page);\n      }\n\n      const api = base.join('');\n\n      axios.get(api)\n        .then(\n          (response) => {\n            const { data } = response;\n            context.commit('TOTAL_PAGES', data.total_pages);\n            context.commit('GET_MOVIE_LIST', data.results);\n          },\n        )\n        .catch((e) => {\n          context.commit('GET_MOVIE_LIST', e);\n        });\n    },\n  },\n});\n"]}]}