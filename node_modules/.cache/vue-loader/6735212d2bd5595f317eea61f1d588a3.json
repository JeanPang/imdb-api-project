{"remainingRequest":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeanpang/Desktop/imdb-api-project/src/components/Movies.vue?vue&type=style&index=0&id=7ffef3f3&scoped=true&lang=css&","dependencies":[{"path":"/Users/jeanpang/Desktop/imdb-api-project/src/components/Movies.vue","mtime":1583882331651},{"path":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/css-loader/dist/cjs.js","mtime":1583882313585},{"path":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1583882328780},{"path":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/postcss-loader/src/index.js","mtime":1583882322265},{"path":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/vuetify-loader/lib/loader.js","mtime":1583882328951},{"path":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/cache-loader/dist/cjs.js","mtime":1583882311906},{"path":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/vue-loader/lib/index.js","mtime":1583882328779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoqIHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9Ci5iYWNrZ3JvdW5kIHsKICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7CiAgYmFja2dyb3VuZC1wb3NpdGlvbjogNTAlIDUwJTsKICBoZWlnaHQ6IDg1MHB4Owp9Ci53cmFwcGVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGNvbG9yOiAjZmZmOwogIGZvbnQtZmFtaWx5OiAnU291cmNlIFNhbnMgUHJvJywgQXJpYWwsIHNhbnMtc2VyaWY7CiAgaGVpZ2h0OiAxMDAlOwp9Ci50b3AtY29udGFpbmVyIHsKICBtYXgtd2lkdGg6IDEwMDBweDsKICBkaXNwbGF5OiBmbGV4OwogIG1hcmdpbjogNDBweCAwcHg7CiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpOwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBvdmVyZmxvdzogaGlkZGVuOwogIHBhZGRpbmc6IDBweCAwcHg7CiAgaGVpZ2h0OiA0ODBweDsKICBtYXJnaW4tdG9wOiAxMDBweDsKfQoucG9zdGVyIHsKICBtYXgtd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiA0ODBweDsKICBib3gtc2hhZG93OiAwIDAgNHB4IHJnYmEoMCwwLDAsMC4yKTsKfQoubm8taW1hZ2UtaG9sZGVyLXBvc3RlciB7CiAgaGVpZ2h0OiA0ODBweDsKICB3aWR0aDogMzAwcHg7CiAgYm94LXNoYWRvdzogMCAwIDRweCByZ2JhKDAsMCwwLDAuMik7Cn0KLm5vLWltYWdlLWhvbGRlci1wb3N0ZXI6YmVmb3JlIHsKICBmb250LWZhbWlseTogJ0dseXBoaWNvbnMgSGFsZmxpbmdzJzsKICBjb250ZW50OiJcZTA2MCI7CiAgZm9udC1zaXplOiA5MnB4OwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBjb2xvcjogI2I1YjViNTsKICBoZWlnaHQ6IDQ4MHB4Owp9Ci5pbmZvIHsKICBwYWRkaW5nOiAyNXB4IDQwcHg7CiAgd2lkdGg6IDcwMHB4OwogIGhlaWdodDogNDUwcHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGxpbmUtaGVpZ2h0OiAxLjRlbTsKfQoubW92aWUtbmFtZSB7CiAgZm9udC1XZWlnaHQ6IDcwMDsKICB3aWR0aDogNTQwcHg7CiAgY29sb3I6ICNmZmY7CiAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4ICNmZmY7CiAgcGFkZGluZy1ib3R0b206IDIwcHg7CiAgZm9udC1zaXplOiAxLjhlbTsKICBsaW5lLWhlaWdodDogMS4yZW07Cn0KLnJlbGVhc2UteWVhciB7CiAgb3BhY2l0eTogMC42OwogIGZvbnQtc2l6ZTogMC42ZW07CiAgZm9udC1XZWlnaHQ6IDUwMDsKfQoudXNlci1zY29yZS13cmFwcGVyIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgcmlnaHQ6IDIwcHg7CiAgdG9wOiAyMHB4OwogIGZvbnQtZmFtaWx5OiAnT2RpbiBCb2xkJyAhaW1wb3J0YW50OwogIGJhY2tncm91bmQ6IHJnYmEoMjU2LDI1NiwyNTYsMC4xKTsKICBib3JkZXItcmFkaXVzOiAxMDBweDsKICB3aWR0aDogODBweDsKICBoZWlnaHQ6IDgwcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7Cn0KLnVzZXItc2NvcmUgewogIGZvbnQtc2l6ZTogMzhweDsKICBwYWRkaW5nOiAzMHB4IDNweDsKfQoucGVyY2VudCB7CiAgZm9udC1zaXplOiAxNnB4OwogIG1hcmdpbi10b3A6IDI1cHg7Cn0KLnRpdGxlIHsKICBjb2xvcjogI2ZmZjsKICBmb250LXNpemU6IDEuMmVtOwogIGZvbnQtd2VpZ2h0OiA2MDA7CiAgcGFkZGluZzogMTBweCAwcHg7CiAgbWFyZ2luLXRvcDogMTJweDsKfQouY29udGVudC10ZXh0IHsKICBmb250LXNpemU6IDFlbTsKICBkaXNwbGF5OiAtd2Via2l0LWJveDsKICAtd2Via2l0LWxpbmUtY2xhbXA6IDQ7CiAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDsKICB3aGl0ZS1zcGFjZTogbm9ybWFsOwogIG92ZXJmbG93OiBoaWRkZW47CiAgbGV0dGVyLXNwYWNpbmc6IDAuMnB4Owp9Ci5jcmV3LW5hbWUgewogIGZvbnQtd2VpZ2h0OiA4MDA7CiAgZm9udC1zaXplOiAxLjA1ZW07Cn0KLmNyZXctY2hhcmFjdGVyIHsKICBmb250LXNpemU6IDFlbTsKfQoucHJvZmlsZS1jb250YWluZXIgewogIGZvbnQtc2l6ZTogMC45NWVtOwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC13cmFwOiB3cmFwOwp9Ci5wcm9maWxlIHsKICB3aWR0aDogMzMlOwogIG1hcmdpbi1ib3R0b206IDEwcHg7Cn0K"},{"version":3,"sources":["Movies.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Movies.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div\n    class=\"background\"\n    v-bind:style='{ backgroundImage: `url(\"${bgImgUrl}\")` }'\n  >\n    <div\n      class=\"wrapper\"\n      v-bind:style='{ background: rgba }'\n    >\n      <div class=\"top-container\">\n          <div v-if=\"movie.poster_path !== undefined\">\n            <img\n              v-if=\"movie.poster_path !== null\"\n              :src=\"'https://image.tmdb.org/t/p/w300_and_h450_bestv2/' + movie.poster_path\"\n              class=\"poster\"\n            >\n            <div\n              v-else\n              class=\"no-image-holder-poster\"\n            >\n          </div>\n\n          </div>\n        <div class=\"info\">\n          <div class=\"movie-name\">\n            {{ movie.title }}\n            <span v-if=\"isNaN(releaseYear) === false\" class=\"release-year\">&nbsp;({{ releaseYear }})</span>\n          </div>\n          <div class=\"user-score-wrapper\">\n            <div class=\"user-score\">{{ movie.vote_average * 10}}</div>\n            <div class=\"percent\">&nbsp;%</div>\n          </div>\n          <div>\n            <div class=\"title\">Overview</div>\n            <div class=\"content-text\">\n              {{\n                movie.overview ? movie.overview\n                :\"We don't have an overview translated in English.Help us expand our database by adding one.\"\n              }}\n            </div>\n          </div>\n          <div>\n            <div class=\"title\">Featured Crew</div>\n            <div class=\"profile-container\">\n              {{ featuredCrews.length === 0\n                ? \"We don't have any crew added to this movie. You can help by adding some!\" : \"\" }}\n              <div class=\"profile\" v-for=\"featuredCrew in featuredCrews\" :key=\"featuredCrew.id\">\n                <div class=\"crew-name\">{{ featuredCrew.name }}</div>\n                <div class=\"crew-character\">{{ featuredCrew.jobTitle }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport * as Vibrant from 'node-vibrant';\nimport moment from 'moment';\n\nexport default {\n  name: 'Movies',\n  data() {\n    return {\n      movie: {},\n      featuredCrews: [],\n      releaseYear: '',\n      bgImgUrl: null,\n      rgba: null,\n    };\n  },\n  mounted() {\n    this.getMoviesDetail(this.$route.params.id);\n    this.getCredits(this.$route.params.id);\n  },\n  methods: {\n    getMoviesDetail(id) {\n      const api = `https://api.themoviedb.org/3/movie/${id}?api_key=0b6344d0554c5cd28c5ad8aedb0cded6&language=en-US`;\n      axios.get(api)\n        .then(\n          (response) => {\n            const { data } = response;\n            this.movie = data;\n\n            if (data.backdrop_path !== null) {\n              this.bgImgUrl = `https://image.tmdb.org/t/p/w1400_and_h450_face${this.movie.backdrop_path}`;\n            }\n            this.getColor();\n\n            this.releaseYear = moment(data.release_date, 'YYYY-MM-DD').year();\n          },\n          (error) => {\n            console.error(error);\n          },\n        );\n    },\n\n    getColor() {\n      if (this.movie.poster_path !== null) {\n        const img = `https://image.tmdb.org/t/p/w185_and_h278_bestv2${this.movie.poster_path}`;\n\n        Vibrant.from(img).getPalette()\n          .then((palette) => {\n            const paletteChoose = palette.DarkMuted;\n            this.rgba = `rgba(${paletteChoose.r}, ${paletteChoose.g}, ${paletteChoose.b}, 0.85)`;\n          });\n      } else {\n        this.rgba = 'rgba(204, 204, 204, 0.6)';\n      }\n    },\n\n    getCredits(id) {\n      const api = `https://api.themoviedb.org/3/movie/${id}/credits?api_key=0b6344d0554c5cd28c5ad8aedb0cded6&language=en-US`;\n      axios.get(api)\n        .then(\n          (response) => {\n            const { data } = response;\n\n            const filteredJob = [];\n            data.crew.filter((crew) => {\n              switch (crew.job) {\n                case 'Director':\n                  return filteredJob.push(crew);\n                case 'Screenplay':\n                  return filteredJob.push(crew);\n                case 'Story':\n                  return filteredJob.push(crew);\n                case 'Novel':\n                  return filteredJob.push(crew);\n                case 'Writer':\n                  return filteredJob.push(crew);\n                case 'Characters':\n                  return filteredJob.push(crew);\n                default:\n                  return '';\n              }\n            });\n            const featureCrewName = [];\n            filteredJob.map((profile) => featureCrewName.push(profile.name));\n            const featureCrewNameNoDuplicate = Array.from(new Set(featureCrewName));\n\n            let filteredName;\n            let i;\n            const featuredCrew = [];\n            for (i = 0; i < featureCrewNameNoDuplicate.length; i += 1) {\n              const index = i;\n              filteredName = data.crew.filter(\n                (crew) => crew.name === featureCrewNameNoDuplicate[index],\n              );\n              const jobTitleArr = [];\n              filteredName.map((name) => {\n                switch (name.job) {\n                  case 'Director':\n                    return jobTitleArr.push(name.job);\n                  case 'Screenplay':\n                    return jobTitleArr.push(name.job);\n                  case 'Story':\n                    return jobTitleArr.push(name.job);\n                  case 'Novel':\n                    return jobTitleArr.push(name.job);\n                  case 'Writer':\n                    return jobTitleArr.push(name.job);\n                  case 'Characters':\n                    return jobTitleArr.push(name.job);\n                  default:\n                    return '';\n                }\n              });\n              const jobTitle = jobTitleArr.join(', ');\n              featuredCrew.push({\n                id: i + 1,\n                name: filteredName[0].name,\n                jobTitle,\n              });\n            }\n\n            if (featuredCrew.length > 9) {\n              featuredCrew.length = 9;\n            }\n            this.featuredCrews = featuredCrew;\n          },\n          (error) => {\n            console.error(error);\n          },\n        );\n    },\n  },\n};\n</script>\n\n<style scoped>\n  * {\n    box-sizing: border-box;\n  }\n  .background {\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: 50% 50%;\n    height: 850px;\n  }\n  .wrapper {\n    display: flex;\n    justify-content: center;\n    color: #fff;\n    font-family: 'Source Sans Pro', Arial, sans-serif;\n    height: 100%;\n  }\n  .top-container {\n    max-width: 1000px;\n    display: flex;\n    margin: 40px 0px;\n    background: rgba(0, 0, 0, 0.5);\n    border-radius: 8px;\n    overflow: hidden;\n    padding: 0px 0px;\n    height: 480px;\n    margin-top: 100px;\n  }\n  .poster {\n    max-width: 100%;\n    height: 480px;\n    box-shadow: 0 0 4px rgba(0,0,0,0.2);\n  }\n  .no-image-holder-poster {\n    height: 480px;\n    width: 300px;\n    box-shadow: 0 0 4px rgba(0,0,0,0.2);\n  }\n  .no-image-holder-poster:before {\n    font-family: 'Glyphicons Halflings';\n    content:\"\\e060\";\n    font-size: 92px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: #b5b5b5;\n    height: 480px;\n  }\n  .info {\n    padding: 25px 40px;\n    width: 700px;\n    height: 450px;\n    position: relative;\n    line-height: 1.4em;\n  }\n  .movie-name {\n    font-Weight: 700;\n    width: 540px;\n    color: #fff;\n    border-bottom: solid 1px #fff;\n    padding-bottom: 20px;\n    font-size: 1.8em;\n    line-height: 1.2em;\n  }\n  .release-year {\n    opacity: 0.6;\n    font-size: 0.6em;\n    font-Weight: 500;\n  }\n  .user-score-wrapper {\n    position: absolute;\n    right: 20px;\n    top: 20px;\n    font-family: 'Odin Bold' !important;\n    background: rgba(256,256,256,0.1);\n    border-radius: 100px;\n    width: 80px;\n    height: 80px;\n    text-align: center;\n    display: flex;\n    justify-content: center;\n  }\n  .user-score {\n    font-size: 38px;\n    padding: 30px 3px;\n  }\n  .percent {\n    font-size: 16px;\n    margin-top: 25px;\n  }\n  .title {\n    color: #fff;\n    font-size: 1.2em;\n    font-weight: 600;\n    padding: 10px 0px;\n    margin-top: 12px;\n  }\n  .content-text {\n    font-size: 1em;\n    display: -webkit-box;\n    -webkit-line-clamp: 4;\n    -webkit-box-orient: vertical;\n    white-space: normal;\n    overflow: hidden;\n    letter-spacing: 0.2px;\n  }\n  .crew-name {\n    font-weight: 800;\n    font-size: 1.05em;\n  }\n  .crew-character {\n    font-size: 1em;\n  }\n  .profile-container {\n    font-size: 0.95em;\n    display: flex;\n    flex-wrap: wrap;\n  }\n  .profile {\n    width: 33%;\n    margin-bottom: 10px;\n  }\n</style>\n"]}]}