{"remainingRequest":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeanpang/Desktop/imdb-api-project/src/components/Movies.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeanpang/Desktop/imdb-api-project/src/components/Movies.vue","mtime":1583882331651},{"path":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/cache-loader/dist/cjs.js","mtime":1583882311906},{"path":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/babel-loader/lib/index.js","mtime":1583882310455},{"path":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/vuetify-loader/lib/loader.js","mtime":1583882328951},{"path":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/cache-loader/dist/cjs.js","mtime":1583882311906},{"path":"/Users/jeanpang/Desktop/imdb-api-project/node_modules/vue-loader/lib/index.js","mtime":1583882328779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCAqIGFzIFZpYnJhbnQgZnJvbSAnbm9kZS12aWJyYW50JzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNb3ZpZXMnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb3ZpZToge30sCiAgICAgIGZlYXR1cmVkQ3Jld3M6IFtdLAogICAgICByZWxlYXNlWWVhcjogJycsCiAgICAgIGJnSW1nVXJsOiBudWxsLAogICAgICByZ2JhOiBudWxsLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldE1vdmllc0RldGFpbCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgdGhpcy5nZXRDcmVkaXRzKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRNb3ZpZXNEZXRhaWwoaWQpIHsKICAgICAgY29uc3QgYXBpID0gYGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHtpZH0/YXBpX2tleT0wYjYzNDRkMDU1NGM1Y2QyOGM1YWQ4YWVkYjBjZGVkNiZsYW5ndWFnZT1lbi1VU2A7CiAgICAgIGF4aW9zLmdldChhcGkpCiAgICAgICAgLnRoZW4oCiAgICAgICAgICAocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXNwb25zZTsKICAgICAgICAgICAgdGhpcy5tb3ZpZSA9IGRhdGE7CgogICAgICAgICAgICBpZiAoZGF0YS5iYWNrZHJvcF9wYXRoICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgdGhpcy5iZ0ltZ1VybCA9IGBodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93MTQwMF9hbmRfaDQ1MF9mYWNlJHt0aGlzLm1vdmllLmJhY2tkcm9wX3BhdGh9YDsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmdldENvbG9yKCk7CgogICAgICAgICAgICB0aGlzLnJlbGVhc2VZZWFyID0gbW9tZW50KGRhdGEucmVsZWFzZV9kYXRlLCAnWVlZWS1NTS1ERCcpLnllYXIoKTsKICAgICAgICAgIH0sCiAgICAgICAgICAoZXJyb3IpID0+IHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICB9LAogICAgICAgICk7CiAgICB9LAoKICAgIGdldENvbG9yKCkgewogICAgICBpZiAodGhpcy5tb3ZpZS5wb3N0ZXJfcGF0aCAhPT0gbnVsbCkgewogICAgICAgIGNvbnN0IGltZyA9IGBodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93MTg1X2FuZF9oMjc4X2Jlc3R2MiR7dGhpcy5tb3ZpZS5wb3N0ZXJfcGF0aH1gOwoKICAgICAgICBWaWJyYW50LmZyb20oaW1nKS5nZXRQYWxldHRlKCkKICAgICAgICAgIC50aGVuKChwYWxldHRlKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHBhbGV0dGVDaG9vc2UgPSBwYWxldHRlLkRhcmtNdXRlZDsKICAgICAgICAgICAgdGhpcy5yZ2JhID0gYHJnYmEoJHtwYWxldHRlQ2hvb3NlLnJ9LCAke3BhbGV0dGVDaG9vc2UuZ30sICR7cGFsZXR0ZUNob29zZS5ifSwgMC44NSlgOwogICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5yZ2JhID0gJ3JnYmEoMjA0LCAyMDQsIDIwNCwgMC42KSc7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0Q3JlZGl0cyhpZCkgewogICAgICBjb25zdCBhcGkgPSBgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke2lkfS9jcmVkaXRzP2FwaV9rZXk9MGI2MzQ0ZDA1NTRjNWNkMjhjNWFkOGFlZGIwY2RlZDYmbGFuZ3VhZ2U9ZW4tVVNgOwogICAgICBheGlvcy5nZXQoYXBpKQogICAgICAgIC50aGVuKAogICAgICAgICAgKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9uc2U7CgogICAgICAgICAgICBjb25zdCBmaWx0ZXJlZEpvYiA9IFtdOwogICAgICAgICAgICBkYXRhLmNyZXcuZmlsdGVyKChjcmV3KSA9PiB7CiAgICAgICAgICAgICAgc3dpdGNoIChjcmV3LmpvYikgewogICAgICAgICAgICAgICAgY2FzZSAnRGlyZWN0b3InOgogICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyZWRKb2IucHVzaChjcmV3KTsKICAgICAgICAgICAgICAgIGNhc2UgJ1NjcmVlbnBsYXknOgogICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyZWRKb2IucHVzaChjcmV3KTsKICAgICAgICAgICAgICAgIGNhc2UgJ1N0b3J5JzoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkSm9iLnB1c2goY3Jldyk7CiAgICAgICAgICAgICAgICBjYXNlICdOb3ZlbCc6CiAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZEpvYi5wdXNoKGNyZXcpOwogICAgICAgICAgICAgICAgY2FzZSAnV3JpdGVyJzoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkSm9iLnB1c2goY3Jldyk7CiAgICAgICAgICAgICAgICBjYXNlICdDaGFyYWN0ZXJzJzoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkSm9iLnB1c2goY3Jldyk7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29uc3QgZmVhdHVyZUNyZXdOYW1lID0gW107CiAgICAgICAgICAgIGZpbHRlcmVkSm9iLm1hcCgocHJvZmlsZSkgPT4gZmVhdHVyZUNyZXdOYW1lLnB1c2gocHJvZmlsZS5uYW1lKSk7CiAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVDcmV3TmFtZU5vRHVwbGljYXRlID0gQXJyYXkuZnJvbShuZXcgU2V0KGZlYXR1cmVDcmV3TmFtZSkpOwoKICAgICAgICAgICAgbGV0IGZpbHRlcmVkTmFtZTsKICAgICAgICAgICAgbGV0IGk7CiAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVkQ3JldyA9IFtdOwogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmVhdHVyZUNyZXdOYW1lTm9EdXBsaWNhdGUubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGk7CiAgICAgICAgICAgICAgZmlsdGVyZWROYW1lID0gZGF0YS5jcmV3LmZpbHRlcigKICAgICAgICAgICAgICAgIChjcmV3KSA9PiBjcmV3Lm5hbWUgPT09IGZlYXR1cmVDcmV3TmFtZU5vRHVwbGljYXRlW2luZGV4XSwKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIGNvbnN0IGpvYlRpdGxlQXJyID0gW107CiAgICAgICAgICAgICAgZmlsdGVyZWROYW1lLm1hcCgobmFtZSkgPT4gewogICAgICAgICAgICAgICAgc3dpdGNoIChuYW1lLmpvYikgewogICAgICAgICAgICAgICAgICBjYXNlICdEaXJlY3Rvcic6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpvYlRpdGxlQXJyLnB1c2gobmFtZS5qb2IpOwogICAgICAgICAgICAgICAgICBjYXNlICdTY3JlZW5wbGF5JzoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gam9iVGl0bGVBcnIucHVzaChuYW1lLmpvYik7CiAgICAgICAgICAgICAgICAgIGNhc2UgJ1N0b3J5JzoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gam9iVGl0bGVBcnIucHVzaChuYW1lLmpvYik7CiAgICAgICAgICAgICAgICAgIGNhc2UgJ05vdmVsJzoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gam9iVGl0bGVBcnIucHVzaChuYW1lLmpvYik7CiAgICAgICAgICAgICAgICAgIGNhc2UgJ1dyaXRlcic6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpvYlRpdGxlQXJyLnB1c2gobmFtZS5qb2IpOwogICAgICAgICAgICAgICAgICBjYXNlICdDaGFyYWN0ZXJzJzoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gam9iVGl0bGVBcnIucHVzaChuYW1lLmpvYik7CiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvbnN0IGpvYlRpdGxlID0gam9iVGl0bGVBcnIuam9pbignLCAnKTsKICAgICAgICAgICAgICBmZWF0dXJlZENyZXcucHVzaCh7CiAgICAgICAgICAgICAgICBpZDogaSArIDEsCiAgICAgICAgICAgICAgICBuYW1lOiBmaWx0ZXJlZE5hbWVbMF0ubmFtZSwKICAgICAgICAgICAgICAgIGpvYlRpdGxlLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoZmVhdHVyZWRDcmV3Lmxlbmd0aCA+IDkpIHsKICAgICAgICAgICAgICBmZWF0dXJlZENyZXcubGVuZ3RoID0gOTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmZlYXR1cmVkQ3Jld3MgPSBmZWF0dXJlZENyZXc7CiAgICAgICAgICB9LAogICAgICAgICAgKGVycm9yKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgfSwKICAgICAgICApOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Movies.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Movies.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div\n    class=\"background\"\n    v-bind:style='{ backgroundImage: `url(\"${bgImgUrl}\")` }'\n  >\n    <div\n      class=\"wrapper\"\n      v-bind:style='{ background: rgba }'\n    >\n      <div class=\"top-container\">\n          <div v-if=\"movie.poster_path !== undefined\">\n            <img\n              v-if=\"movie.poster_path !== null\"\n              :src=\"'https://image.tmdb.org/t/p/w300_and_h450_bestv2/' + movie.poster_path\"\n              class=\"poster\"\n            >\n            <div\n              v-else\n              class=\"no-image-holder-poster\"\n            >\n          </div>\n\n          </div>\n        <div class=\"info\">\n          <div class=\"movie-name\">\n            {{ movie.title }}\n            <span v-if=\"isNaN(releaseYear) === false\" class=\"release-year\">&nbsp;({{ releaseYear }})</span>\n          </div>\n          <div class=\"user-score-wrapper\">\n            <div class=\"user-score\">{{ movie.vote_average * 10}}</div>\n            <div class=\"percent\">&nbsp;%</div>\n          </div>\n          <div>\n            <div class=\"title\">Overview</div>\n            <div class=\"content-text\">\n              {{\n                movie.overview ? movie.overview\n                :\"We don't have an overview translated in English.Help us expand our database by adding one.\"\n              }}\n            </div>\n          </div>\n          <div>\n            <div class=\"title\">Featured Crew</div>\n            <div class=\"profile-container\">\n              {{ featuredCrews.length === 0\n                ? \"We don't have any crew added to this movie. You can help by adding some!\" : \"\" }}\n              <div class=\"profile\" v-for=\"featuredCrew in featuredCrews\" :key=\"featuredCrew.id\">\n                <div class=\"crew-name\">{{ featuredCrew.name }}</div>\n                <div class=\"crew-character\">{{ featuredCrew.jobTitle }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport * as Vibrant from 'node-vibrant';\nimport moment from 'moment';\n\nexport default {\n  name: 'Movies',\n  data() {\n    return {\n      movie: {},\n      featuredCrews: [],\n      releaseYear: '',\n      bgImgUrl: null,\n      rgba: null,\n    };\n  },\n  mounted() {\n    this.getMoviesDetail(this.$route.params.id);\n    this.getCredits(this.$route.params.id);\n  },\n  methods: {\n    getMoviesDetail(id) {\n      const api = `https://api.themoviedb.org/3/movie/${id}?api_key=0b6344d0554c5cd28c5ad8aedb0cded6&language=en-US`;\n      axios.get(api)\n        .then(\n          (response) => {\n            const { data } = response;\n            this.movie = data;\n\n            if (data.backdrop_path !== null) {\n              this.bgImgUrl = `https://image.tmdb.org/t/p/w1400_and_h450_face${this.movie.backdrop_path}`;\n            }\n            this.getColor();\n\n            this.releaseYear = moment(data.release_date, 'YYYY-MM-DD').year();\n          },\n          (error) => {\n            console.error(error);\n          },\n        );\n    },\n\n    getColor() {\n      if (this.movie.poster_path !== null) {\n        const img = `https://image.tmdb.org/t/p/w185_and_h278_bestv2${this.movie.poster_path}`;\n\n        Vibrant.from(img).getPalette()\n          .then((palette) => {\n            const paletteChoose = palette.DarkMuted;\n            this.rgba = `rgba(${paletteChoose.r}, ${paletteChoose.g}, ${paletteChoose.b}, 0.85)`;\n          });\n      } else {\n        this.rgba = 'rgba(204, 204, 204, 0.6)';\n      }\n    },\n\n    getCredits(id) {\n      const api = `https://api.themoviedb.org/3/movie/${id}/credits?api_key=0b6344d0554c5cd28c5ad8aedb0cded6&language=en-US`;\n      axios.get(api)\n        .then(\n          (response) => {\n            const { data } = response;\n\n            const filteredJob = [];\n            data.crew.filter((crew) => {\n              switch (crew.job) {\n                case 'Director':\n                  return filteredJob.push(crew);\n                case 'Screenplay':\n                  return filteredJob.push(crew);\n                case 'Story':\n                  return filteredJob.push(crew);\n                case 'Novel':\n                  return filteredJob.push(crew);\n                case 'Writer':\n                  return filteredJob.push(crew);\n                case 'Characters':\n                  return filteredJob.push(crew);\n                default:\n                  return '';\n              }\n            });\n            const featureCrewName = [];\n            filteredJob.map((profile) => featureCrewName.push(profile.name));\n            const featureCrewNameNoDuplicate = Array.from(new Set(featureCrewName));\n\n            let filteredName;\n            let i;\n            const featuredCrew = [];\n            for (i = 0; i < featureCrewNameNoDuplicate.length; i += 1) {\n              const index = i;\n              filteredName = data.crew.filter(\n                (crew) => crew.name === featureCrewNameNoDuplicate[index],\n              );\n              const jobTitleArr = [];\n              filteredName.map((name) => {\n                switch (name.job) {\n                  case 'Director':\n                    return jobTitleArr.push(name.job);\n                  case 'Screenplay':\n                    return jobTitleArr.push(name.job);\n                  case 'Story':\n                    return jobTitleArr.push(name.job);\n                  case 'Novel':\n                    return jobTitleArr.push(name.job);\n                  case 'Writer':\n                    return jobTitleArr.push(name.job);\n                  case 'Characters':\n                    return jobTitleArr.push(name.job);\n                  default:\n                    return '';\n                }\n              });\n              const jobTitle = jobTitleArr.join(', ');\n              featuredCrew.push({\n                id: i + 1,\n                name: filteredName[0].name,\n                jobTitle,\n              });\n            }\n\n            if (featuredCrew.length > 9) {\n              featuredCrew.length = 9;\n            }\n            this.featuredCrews = featuredCrew;\n          },\n          (error) => {\n            console.error(error);\n          },\n        );\n    },\n  },\n};\n</script>\n\n<style scoped>\n  * {\n    box-sizing: border-box;\n  }\n  .background {\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: 50% 50%;\n    height: 850px;\n  }\n  .wrapper {\n    display: flex;\n    justify-content: center;\n    color: #fff;\n    font-family: 'Source Sans Pro', Arial, sans-serif;\n    height: 100%;\n  }\n  .top-container {\n    max-width: 1000px;\n    display: flex;\n    margin: 40px 0px;\n    background: rgba(0, 0, 0, 0.5);\n    border-radius: 8px;\n    overflow: hidden;\n    padding: 0px 0px;\n    height: 480px;\n    margin-top: 100px;\n  }\n  .poster {\n    max-width: 100%;\n    height: 480px;\n    box-shadow: 0 0 4px rgba(0,0,0,0.2);\n  }\n  .no-image-holder-poster {\n    height: 480px;\n    width: 300px;\n    box-shadow: 0 0 4px rgba(0,0,0,0.2);\n  }\n  .no-image-holder-poster:before {\n    font-family: 'Glyphicons Halflings';\n    content:\"\\e060\";\n    font-size: 92px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: #b5b5b5;\n    height: 480px;\n  }\n  .info {\n    padding: 25px 40px;\n    width: 700px;\n    height: 450px;\n    position: relative;\n    line-height: 1.4em;\n  }\n  .movie-name {\n    font-Weight: 700;\n    width: 540px;\n    color: #fff;\n    border-bottom: solid 1px #fff;\n    padding-bottom: 20px;\n    font-size: 1.8em;\n    line-height: 1.2em;\n  }\n  .release-year {\n    opacity: 0.6;\n    font-size: 0.6em;\n    font-Weight: 500;\n  }\n  .user-score-wrapper {\n    position: absolute;\n    right: 20px;\n    top: 20px;\n    font-family: 'Odin Bold' !important;\n    background: rgba(256,256,256,0.1);\n    border-radius: 100px;\n    width: 80px;\n    height: 80px;\n    text-align: center;\n    display: flex;\n    justify-content: center;\n  }\n  .user-score {\n    font-size: 38px;\n    padding: 30px 3px;\n  }\n  .percent {\n    font-size: 16px;\n    margin-top: 25px;\n  }\n  .title {\n    color: #fff;\n    font-size: 1.2em;\n    font-weight: 600;\n    padding: 10px 0px;\n    margin-top: 12px;\n  }\n  .content-text {\n    font-size: 1em;\n    display: -webkit-box;\n    -webkit-line-clamp: 4;\n    -webkit-box-orient: vertical;\n    white-space: normal;\n    overflow: hidden;\n    letter-spacing: 0.2px;\n  }\n  .crew-name {\n    font-weight: 800;\n    font-size: 1.05em;\n  }\n  .crew-character {\n    font-size: 1em;\n  }\n  .profile-container {\n    font-size: 0.95em;\n    display: flex;\n    flex-wrap: wrap;\n  }\n  .profile {\n    width: 33%;\n    margin-bottom: 10px;\n  }\n</style>\n"]}]}